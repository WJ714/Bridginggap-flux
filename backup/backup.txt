molarMass <- 12.011  # Molar mass of CO2 in g/mol
agg.annual = combined.df %>%
    group_by(Year) %>%
    summarize(annual_FC = sum(NEE_50._f * molarMass * 30 * 60 / 1e6),
              annual_GPP = sum(`GPP_50%_f` * molarMass * 30 * 60 / 1e6), # there are NAs in GPP??? is it probably because there are NAs in drivers??? Let me take a close look at it, or use data from a different year ...
              annual_Reco = sum(`Reco_50%` * molarMass * 30 * 60 / 1e6))
agg.annual
agg.month = combined.df %>%
    group_by(Year, Month) %>%
    summarize(month_FC = sum(NEE_50._f * molarMass * 30 * 60 / 1e6),
              month_GPP = sum(`GPP_50%_f` * molarMass * 30 * 60 / 1e6), # there are NAs in GPP??? I do not know why ...of cause we can manually compute GPP, I am just wondering what is wrong???
              month_Reco = sum(`Reco_50%` * molarMass * 30 * 60 / 1e6))
agg.month

ggplot(agg.month, aes(x = Month, y = month_FC, color = as.factor(Year), group = Year)) +
  geom_line(size = 1) +
  geom_point() +
  theme_minimal() +
  ylab(expression(FCO[2]~'('*gC~m^{-2}~month^{-1}*')'))


Here are some thoughts: - add LE and H: The differences are that no u
filtering is not generally applied, and the calculation of annual sums
would be different. - Using different drivers: I am always curious about
how to do that... It is a change to have Thomas involved if he would
like to help ... Or I guess it might be possible to adapt the codes for
step by step for MDS here:
<https://cran.r-project.org/web/packages/REddyProc/vignettes/gapFilling.html> -

